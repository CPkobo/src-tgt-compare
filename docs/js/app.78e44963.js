(function(){"use strict";var t={8014:function(t,e,s){var i=s(9242),n=s(3396),o=s(4870),r=s(2578),c=s(7327);s(7658);class h{constructor(t=null,e="",s="",i=!0,n="A2B"){(0,c.Z)(this,"isjunk",void 0),(0,c.Z)(this,"a",void 0),(0,c.Z)(this,"b",void 0),(0,c.Z)(this,"autojunk",void 0),(0,c.Z)(this,"matchingBlocks",void 0),(0,c.Z)(this,"opcodes",void 0),(0,c.Z)(this,"opIsA2B",void 0),(0,c.Z)(this,"fullbcount",void 0),(0,c.Z)(this,"b2j",void 0),(0,c.Z)(this,"bjunk",void 0),(0,c.Z)(this,"bpopular",void 0),this.isjunk=t,this.a="",this.b="",this.autojunk=i,this.matchingBlocks=[],this.opcodes=[],this.opIsA2B="A2B"===n,this.fullbcount={},this.b2j={},this.bjunk=[],this.bpopular=[],this.setSeqs(e,s)}setDefaultDirection(t="A2B"){"A2B"===t?this.opIsA2B=!0:"B2A"===t&&(this.opIsA2B=!1)}calculate_ratio(t,e){return e>0?2*t/e:1}range(t,e=0){let s=0,i=0;0===e?i=t:(s=t,i=e);const n=[];for(let o=s;o<i;o++)n.push(o);return n}setSeqs(t,e){this.setSeq1(t),this.setSeq2(e)}setSeq1(t){t!==this.a&&(this.a=t,this.matchingBlocks=[],this.opcodes=[])}setSeq2(t){t!==this.b&&(this.b=t,this.matchingBlocks=[],this.opcodes=[],this.fullbcount={},this._chainB())}_chainB(){const t=this.b;this.b2j={};for(let i=0;i<t.length;i++){const e=t[i];void 0===this.b2j[e]?this.b2j[e]=[i]:this.b2j[e].push(i)}this.bjunk=[];const e=this.isjunk;if(e){for(const t of Object.keys(this.b2j))e(t)&&-1===this.bjunk.indexOf(t)&&this.bjunk.push(t);for(const t of Object.keys(this.bjunk))delete this.b2j[t]}const s=t.length;if(this.bpopular.length=0,this.autojunk&&s>=200){const t=s;for(const e of Object.keys(this.b2j)){const s=this.b2j[e];s.length>t&&-1===this.bpopular.indexOf(e)&&this.bpopular.push(e)}for(const e of this.bpopular)delete this.b2j[e]}}findLongestMatch(t,e,s,i){const n=this.a,o=this.b;let r=t,c=s,h=0,l={};for(const a of this.range(t,e)){const t={},e=n[a],o=this.b2j[e]||[];for(const n of o){if(n<s)continue;if(n>=i)break;const e=l[n-1]?l[n-1]+1:1;t[n]=e,e>h&&(r=a-e+1,c=n-e+1,h=e)}l=t}while(r>t&&c>s&&-1!==this.bjunk.indexOf(o[c-1])&&n[r-1]==o[c-1])r--,c--,h++;while(r+h<e&&c+h<i&&-1!==this.bjunk.indexOf(o[c+h])&&n[r+h]===o[c+h])h++;while(r>t&&c>s&&-1!==this.bjunk.indexOf(o[c-1])&&n[r-1]===o[c-1])r--,c--,h++;while(r+h<e&&c+h<i&&-1!==this.bjunk.indexOf(o[c+h])&&n[r+h]==o[c+h])h++;return[r,c,h]}getMatchingBlocks(){if(this.matchingBlocks.length>0)return this.matchingBlocks;{const t=this.a.length,e=this.b.length,s=[[0,t,0,e]],i=[];while(s.length>0){const t=s.pop()||[0,0,0,0],e=t[0],n=t[1],o=t[2],r=t[3],c=this.findLongestMatch(e,n,o,r),h=c[0],l=c[1],a=c[2];a>0&&(i.push(c),e<h&&o<l&&s.push([e,h,o,l]),h+a<n&&l+a<r&&s.push([h+a,n,l+a,r]))}i.sort(((t,e)=>t[0]>e[0]?1:t[0]<e[0]?-1:0));let n=0,o=0,r=0;const c=[];for(const h of i){const t=h[0],e=h[1],s=h[2];n+r===t&&o+r===e?r+=s:(r>0&&c.push([n,o,r]),n=t,o=e,r=s)}return r>0&&c.push([n,o,r]),c.push([t,e,0]),this.matchingBlocks=c,this.matchingBlocks}}getOpcodes(t){const e=void 0===t?this.opIsA2B:t;return e?this.getOpcodesA2B():this.getOpcodesB2A()}getOpcodesA2B(){if(this.opcodes.length>0&&this.opIsA2B)return this.opcodes;{let t=0,e=0;const s=[];for(const i of this.getMatchingBlocks()){let n="";const o=i[0],r=i[1],c=i[2];t<o&&e<r?n="replace":t<o?n="delete":e<r&&(n="insert"),""!==n&&s.push([n,t,o,e,r]),t=o+c,e=r+c,c>0&&s.push(["equal",o,t,r,e])}return this.opcodes=s,s}}getOpcodesB2A(){if(this.opcodes.length>0&&!this.opIsA2B)return this.opcodes;{let t=0,e=0;const s=[];for(const i of this.getMatchingBlocks()){let n="";const o=i[0],r=i[1],c=i[2];t<o&&e<r?n="replace":t<o?n="insert":e<r&&(n="delete"),""!==n&&s.push([n,e,r,t,o]),t=o+c,e=r+c,c>0&&s.push(["equal",r,e,o,t])}return this.opcodes=s,s}}getGroupedOpcodes(t=3){let e,s,i,n,o,r=this.getOpcodes();0===r.length&&(r=[["equal",0,1,0,1]]),"equal"===r[0][0]&&(e=r[0][0],s=r[0][1],i=r[0][2],n=r[0][3],o=r[0][4],r[0]=[e,Math.max(s,i-t),i,Math.max(n,o-t),o]);const c=r.length-1;"equal"===r[c][0]&&(e=r[c][0],s=r[c][1],i=r[c][2],n=r[c][3],o=r[c][4],r[c]=[e,s,Math.min(i,s+t),n,Math.min(o,n+t)]);const h=t+t,l=[];let a=[];for(const u of r)e=u[0],s=u[1],i=u[2],n=u[3],o=u[4],"equal"===e&&i-s>h&&(a.push([e,s,Math.min(i,s+t),n,Math.min(o,n+t)]),l.push(a.slice()),a=[],s=Math.max(s,i-t),n=Math.max(n,o-t)),a.push([e,s,i,n,o]);return a.length>0&&(1!==a.length||"equal"!==a[0][0])&&l.push(a),l}ratio(){let t=0;for(const e of this.getMatchingBlocks())t+=e[2];return this.calculate_ratio(t,this.a.length+this.b.length)}quickRatio(){if(0===Object.keys(this.fullbcount).length)for(let s=0;s<this.b.length;s++){const t=this.b[s];void 0===this.fullbcount[t]?this.fullbcount[t]=1:this.fullbcount[t]++}const t={};let e=0;for(let s=0;s<this.a.length;s++){const i=this.a[s],n=t[i]||this.fullbcount[i]||0;t[i]=n-1,n>0&&e++}return this.calculate_ratio(e,this.a.length+this.b.length)}realQuickRatio(){const t=this.a.length,e=this.b.length;return this.calculate_ratio(Math.min(t,e),t+e)}applyOpcodes(t=!0){if(""===this.a||""===this.b)return"";const e=t?this.a:this.b;let s=t?this.b:this.a;const i=this.getOpcodes(t).reverse();for(const n of i)switch(n[0]){case"equal":break;case"delete":s=s.slice(0,n[3])+"<ins>"+e.slice(n[1],n[2])+"</ins>"+s.slice(n[4]);break;case"replace":s=s.slice(0,n[3])+"<ins>"+e.slice(n[1],n[2])+"</ins><del>"+s.slice(n[3],n[4])+"</del>"+s.slice(n[4]);break;case"insert":s=s.slice(0,n[3])+"<del>"+s.slice(n[3],n[4])+"</del>"+s.slice(n[4]);break;default:break}return s}}const l=new h,a={srcOld:"This is the old source text",srcNew:"This is the new source text",tgtOld:"This is the old target text",tgtNew:"This is the new target text",srcDiff:"",tgtDiff:"",sm:l,hasResult:!1},u=(0,r.Q_)("data",{state:()=>a,actions:{execDiff(){this.sm.setSeqs(this.srcOld,this.srcNew),this.srcDiff=this.sm.applyOpcodes(!1),this.sm.setSeqs(this.tgtOld,this.tgtNew),this.tgtDiff=this.sm.applyOpcodes(!1),this.hasResult=!0}}});var p=(0,n.aZ)({__name:"TextSet",props:{isSrc:{type:Boolean},isOld:{type:Boolean}},setup(t){const e=t,s=u(),i=(0,r.Jk)(s),{srcOld:c,srcNew:h,tgtOld:l,tgtNew:a}=i,p=e.isSrc?e.isOld?c:h:e.isOld?l:a;return(t,e)=>{const s=(0,n.up)("a-textarea");return(0,n.wg)(),(0,n.j4)(s,{modelValue:(0,o.SU)(p),"onUpdate:modelValue":e[0]||(e[0]=t=>(0,o.dq)(p)?p.value=t:null),"auto-size":{minRows:5}},null,8,["modelValue"])}}});const f=p;var d=f;const g={class:"compare-sub"};var b=(0,n.aZ)({__name:"SideHalf",props:{isSrc:{type:Boolean}},setup(t){return(e,s)=>{const i=(0,n.up)("a-divider"),o=(0,n.up)("a-split");return(0,n.wg)(),(0,n.iD)("div",g,[(0,n.Wm)(o,{direction:"vertical"},{first:(0,n.w5)((()=>[(0,n.Wm)(i,{orientation:"center"},{default:(0,n.w5)((()=>[(0,n.Uk)("OLD")])),_:1}),(0,n.Wm)(d,{"is-src":t.isSrc,"is-old":!0},null,8,["is-src"])])),second:(0,n.w5)((()=>[(0,n.Wm)(i,{orientation:"center"},{default:(0,n.w5)((()=>[(0,n.Uk)("NEW")])),_:1}),(0,n.Wm)(d,{"is-src":t.isSrc,"is-old":!1},null,8,["is-src"])])),_:1})])}}});const m=b;var v=m;const k={id:"compare-main"};var w=(0,n.aZ)({__name:"CompareTab",setup(t){const e=()=>{const t=u();t.execDiff()};return(t,s)=>{const i=(0,n.up)("a-typography-title"),o=(0,n.up)("a-split"),r=(0,n.up)("a-button");return(0,n.wg)(),(0,n.iD)("div",k,[(0,n.Wm)(o,null,{first:(0,n.w5)((()=>[(0,n.Wm)(i,{heading:2},{default:(0,n.w5)((()=>[(0,n.Uk)("SOURCE")])),_:1}),(0,n.Wm)(v,{"is-src":!0})])),second:(0,n.w5)((()=>[(0,n.Wm)(i,{heading:2},{default:(0,n.w5)((()=>[(0,n.Uk)("TARGET")])),_:1}),(0,n.Wm)(v,{"is-src":!1})])),_:1}),(0,n.Wm)(r,{type:"primary",onClick:e},{default:(0,n.w5)((()=>[(0,n.Uk)("CHECK DIFF")])),_:1})])}}});const O=w;var j=O;const B={id:"compare-main"},_=["innerHTML"],y=["innerHTML"];var x=(0,n.aZ)({__name:"ResultTab",setup(t){const e=u();return(t,s)=>{const i=(0,n.up)("a-split");return(0,n.wg)(),(0,n.iD)("div",B,[(0,n.Wm)(i,null,{first:(0,n.w5)((()=>[(0,n._)("div",{innerHTML:(0,o.SU)(e).srcDiff},null,8,_)])),second:(0,n.w5)((()=>[(0,n._)("div",{innerHTML:(0,o.SU)(e).tgtDiff},null,8,y)])),_:1})])}}});const A=x;var S=A,q=(0,n.aZ)({__name:"AppBlock",setup(t){const e=u();return(t,s)=>((0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(j),(0,o.SU)(e).hasResult?((0,n.wg)(),(0,n.j4)(S,{key:0})):(0,n.kq)("",!0)]))}});const M=q;var Z=M,D=(0,n.aZ)({__name:"App",setup(t){return(t,e)=>((0,n.wg)(),(0,n.j4)(Z))}});const T=D;var W=T,U=s(5431);(0,U.z)("service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var N=s(8074);s(9072);const R=(0,r.WB)();(0,i.ri)(W).use(N.Z).use(R).mount("#app")}},e={};function s(i){var n=e[i];if(void 0!==n)return n.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,s),o.exports}s.m=t,function(){var t=[];s.O=function(e,i,n,o){if(!i){var r=1/0;for(a=0;a<t.length;a++){i=t[a][0],n=t[a][1],o=t[a][2];for(var c=!0,h=0;h<i.length;h++)(!1&o||r>=o)&&Object.keys(s.O).every((function(t){return s.O[t](i[h])}))?i.splice(h--,1):(c=!1,o<r&&(r=o));if(c){t.splice(a--,1);var l=n();void 0!==l&&(e=l)}}return e}o=o||0;for(var a=t.length;a>0&&t[a-1][2]>o;a--)t[a]=t[a-1];t[a]=[i,n,o]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,i){var n,o,r=i[0],c=i[1],h=i[2],l=0;if(r.some((function(e){return 0!==t[e]}))){for(n in c)s.o(c,n)&&(s.m[n]=c[n]);if(h)var a=h(s)}for(e&&e(i);l<r.length;l++)o=r[l],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(a)},i=self["webpackChunksrc_tgt_compare"]=self["webpackChunksrc_tgt_compare"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(8014)}));i=s.O(i)})();
//# sourceMappingURL=app.78e44963.js.map